*** executing generic tests...
starting queue generic test with 12 threads and 2000 total puts
heterogeneous_queue: density::lf_heter_queue<void, density::runtime_type<void, density::type_features
common_type: void
runtime_type: density::runtime_type<void, density::type_features::feature_list<density::type_f
allocator_type: density::basic_void_allocator<65536ul>
page_alignment: 65536
page_size: 65520
conc puts: false			conc consume: true
conc put-consumes: true			is_seq_cst: false
with_exceptions: false
Active(susp) threads: 9(0) Consumed: 945 (47%, remaining time estimate: 12.211 secs), enqueued: 1055==================
WARNING: ThreadSanitizer: data race (pid=2586)
  Read of size 8 at 0x7f672f960240 by thread T6:
    #0 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_element(density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 (density_test+0xb250da)
    #1 density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::Data& density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_consume_operation::element<density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::Data>() const /home/abc/proj/density/test/../density/lf_heter_queue.h:2615 (density_test+0xb250da)
    #2 void density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::consume_impl<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_consume_operation>(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_consume_operation const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:394 (density_test+0xb250da)
    #3 density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::reentrant_consume(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::reentrant_consume_operation const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:363 (density_test+0xb24285)
    #4 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:600 (density_test+0xb2b004)
    #5 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:616 (density_test+0xb2a501)
    #6 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:500 (density_test+0xb29ae7)
    #7 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:384 (density_test+0xb29856)
    #8 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb29856)
    #9 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb29856)
    #10 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb29856)
    #11 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb29856)
    #12 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb29856)
    #13 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Previous atomic write of size 8 at 0x7f672f960240 by thread T8:
    #0 __tsan_atomic64_compare_exchange_val ??:? (density_test+0x7a166e)
    #1 density::raw_atomic_compare_exchange_strong(unsigned long*, unsigned long*, unsigned long, std::memory_order, std::memory_order) /home/abc/proj/density/test/../density/raw_atomic.h:330 (density_test+0x96aca4)
    #2 density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0> >::Consume::start_consume_impl(density::detail::LFQueue_Head<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)1, density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0> >*) /home/abc/proj/density/test/../density/detail/lf_queue_head_multiple.h:270 (density_test+0x96aca4)
    #3 reentrant_consume_operation /home/abc/proj/density/test/../density/lf_heter_queue.h:2621 (density_test+0xb2aef4)
    #4 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::try_start_reentrant_consume() /home/abc/proj/density/test/../density/lf_heter_queue.h:3118 (density_test+0xb2aef4)
    #5 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:591 (density_test+0xb2aef4)
    #6 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::try_consume_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:616 (density_test+0xb2a501)
    #7 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:500 (density_test+0xb29ae7)
    #8 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:384 (density_test+0xb29856)
    #9 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb29856)
    #10 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb29856)
    #11 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb29856)
    #12 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb29856)
    #13 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb29856)
    #14 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Location is heap block of size 4194304 at 0x7f672f5fe000 allocated by thread T1:
    #0 operator new(unsigned long, std::nothrow_t const&) ??:? (density_test+0x7e2c96)
    #1 density::detail::SystemPageManager<65536ul>::create_region() /home/abc/proj/density/test/../density/detail/system_page_manager.h:295 (density_test+0x7f5f81)
    #2 density::detail::SystemPageManager<65536ul>::get_next_region(density::progress_guarantee, density::detail::SystemPageManager<65536ul>::Region*, density::detail::SystemPageManager<65536ul>::Region**) /home/abc/proj/density/test/../density/detail/system_page_manager.h:188 (density_test+0x7f5e09)
    #3 density::detail::SystemPageManager<65536ul>::try_allocate_page(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/system_page_manager.h:102 (density_test+0x7f5e09)
    #4 density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::allocate_page_slow_path(density::detail::page_allocation_type, density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:314 (density_test+0x7f5ab1)
    #5 void* density::detail::PageAllocator<density::detail::SystemPageManager<65536ul> >::try_allocate_page<(density::detail::page_allocation_type)0>(density::progress_guarantee) /home/abc/proj/density/test/../density/detail/page_allocator.h:170 (density_test+0x7f5532)
    #6 density::basic_void_allocator<65536ul>::allocate_page() /home/abc/proj/density/test/../density/void_allocator.h:273 (density_test+0x96a940)
    #7 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:543 (density_test+0x96a940)
    #8 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::create_initial_page(density::detail::LfQueue_ProgressGuarantee) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:525 (density_test+0x96a885)
    #9 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_or_allocate_next_page(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:518 (density_test+0x96a885)
    #10 density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::page_overflow(density::detail::LfQueue_ProgressGuarantee, density::detail::LfQueueControl<void>*) /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:486 (density_test+0x96a885)
    #11 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::try_inplace_allocate_impl<(density::detail::LfQueue_ProgressGuarantee)0, 1ul, true, 24ul, 8ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:396 (density_test+0xb23f0c)
    #12 density::detail::LfBlock<void> density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::inplace_allocate<1ul, true, 24ul, 8ul>() /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:148 (density_test+0xb23f0c)
    #13 density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::put_transaction<density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::Data> density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>::start_emplace<density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::Data>() /home/abc/proj/density/test/../density/lf_heter_queue.h:1256 (density_test+0xb23f0c)
    #14 density_tests::detail::PutRawBlocks<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::put(density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>&, density_tests::EasyRandom&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:343 (density_test+0xb23f0c)
    #15 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:533 (density_test+0xb2a948)
    #16 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::put_one() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:560 (density_test+0xb2a41f)
    #17 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::thread_procedure(unsigned long, unsigned long, unsigned long) /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:496 (density_test+0xb29b49)
    #18 operator() /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:384 (density_test+0xb29856)
    #19 void std::__invoke_impl<void, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_other, density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:60 (density_test+0xb29856)
    #20 std::__invoke_result<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>::type std::__invoke<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}>(std::__invoke_result&&, (density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}&&)...) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/bits/invoke.h:95 (density_test+0xb29856)
    #21 _ZNSt6thread8_InvokerISt5tupleIJZN13density_tests18QueueGenericTesterIN7density14lf_heter_queueIvNS4_12runtime_typeIvNS4_13type_features12feature_listIJNS7_4sizeENS7_9alignmentENS7_4rttiENS7_7destroyENS7_14move_constructENS7_14copy_constructEEEEEENS4_20basic_void_allocatorILm65536EEELNS4_23concurrency_cardinalityE0ELSJ_1ELNS4_17consistency_modelE0EEEE10ThreadData5startEmmmmEUlvE_EEE9_M_invokeIJLm0EEEEDTclsr3stdE8__invokespcl10_S_declvalIXT_EEEEESt12_Index_tupleIJXspT_EEE /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:234 (density_test+0xb29856)
    #22 std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> >::operator()() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:243 (density_test+0xb29856)
    #23 std::thread::_State_impl<std::thread::_Invoker<std::tuple<density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::ThreadData::start(unsigned long, unsigned long, unsigned long, unsigned long)::{lambda()#1}> > >::_M_run() /usr/bin/../lib/gcc/x86_64-linux-gnu/7.2.0/../../../../include/c++/7.2.0/thread:186 (density_test+0xb29856)
    #24 std::error_code::default_error_condition() const ??:? (libstdc++.so.6+0xbc0fe)

  Thread T6 (tid=2593, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x7576d6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:231 (density_test+0xb27077)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:97 (density_test+0xb1ed94)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xade880)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xadd6b0)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xadd414)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xb7a91a)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd51cd1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd527be)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd52b3b)

  Thread T8 (tid=2595, running) created by main thread at:
    #0 pthread_create ??:? (density_test+0x7576d6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:231 (density_test+0xb27077)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:97 (density_test+0xb1ed94)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xade880)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xadd6b0)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xadd414)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xb7a91a)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd51cd1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd527be)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd52b3b)

  Thread T1 (tid=2588, finished) created by main thread at:
    #0 pthread_create ??:? (density_test+0x7576d6)
    #1 std::thread::_M_start_thread(std::unique_ptr<std::thread::_State, std::default_delete<std::thread::_State> >, void (*)()) ??:? (libstdc++.so.6+0xbc3e4)
    #2 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run_impl(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:231 (density_test+0xb27077)
    #3 density_tests::QueueGenericTester<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >::run(density_tests::QueueTesterFlags, density_tests::EasyRandom&, unsigned long) const /home/abc/proj/density/test/tests/generic_tests/../../test_framework/queue_generic_tester.h:97 (density_test+0xb1ed94)
    #4 void density_tests::detail::single_lf_queue_generic_test<density::lf_heter_queue<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0> >(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> >) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:488 (density_test+0xade880)
    #5 void density_tests::detail::lf_queues_generic_tests<(density::concurrency_cardinality)0, (density::concurrency_cardinality)1, (density::consistency_model)0>(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long, std::vector<unsigned long, std::allocator<unsigned long> > const&) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.h:536 (density_test+0xadd6b0)
    #6 density_tests::lf_heter_relaxed_queue_generic_tests(density_tests::QueueTesterFlags, std::ostream&, density_tests::EasyRandom&, unsigned long) /home/abc/proj/density/test/tests/generic_tests/lf_heter_queue_generic_tests_relaxed.cpp:34 (density_test+0xadd414)
    #7 density_tests::all_queues_generic_tests(density_tests::QueueTesterFlags, std::ostream&, unsigned int, unsigned long) /home/abc/proj/density/test/tests/generic_tests/queue_generic_tests.cpp:42 (density_test+0xb7a91a)
    #8 do_tests(TestSettings const&, std::ostream&, unsigned int) /home/abc/proj/density/test/main.cpp:177 (density_test+0xd51cd1)
    #9 run(int, char**) /home/abc/proj/density/test/main.cpp:263 (density_test+0xd527be)
    #10 main /home/abc/proj/density/test/main.cpp:270 (density_test+0xd52b3b)

SUMMARY: ThreadSanitizer: data race /home/abc/proj/density/test/../density/detail/lf_queue_tail_single.h:245 in density::detail::LFQueue_Tail<void, density::runtime_type<void, density::type_features::feature_list<density::type_features::size, density::type_features::alignment, density::type_features::rtti, density::type_features::destroy, density::type_features::move_construct, density::type_features::copy_construct> >, density::basic_void_allocator<65536ul>, (density::concurrency_cardinality)0, (density::consistency_model)0>::get_element(density::detail::LfQueueControl<void>*)
==================

